<!--Created separate year html file, added exclusive animation for dashboard-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<link rel="stylesheet" href="styles.css">

<style>
/* ================= DASHBOARD RESPONSIVENESS ================= */
body, html {
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family: Arial, sans-serif;
  overflow-x:hidden;
}
#dashboardContainer {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:1rem;
  box-sizing:border-box;
  width:100%;
  min-height:100vh;
}
h1{
  font-size:calc(1.5rem + 1vw);
  text-align:center;
  margin:0.5rem 0 1rem 0;
}
.tiles{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:1rem;
  width:100%;
  max-width:900px;
}
.tile{
  background: linear-gradient(135deg,#f472b6,#c084fc);
  color:white;
  padding:1rem;
  border-radius:1rem;
  font-size:calc(0.9rem + 0.5vw);
  text-align:center;
  cursor:pointer;
  transition:transform 0.2s, box-shadow 0.2s;
  user-select:none;
}
.tile:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 24px rgba(0,0,0,0.25);
}
.back-btn{
  margin-top:1.5rem;
  padding:.6rem 1.2rem;
  border:none;
  border-radius:999px;
  font-weight:bold;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,#34d399,#60a5fa);
  transition:.2s;
}
.back-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 16px rgba(0,0,0,.35);
}

/* ================= MODALS ================= */
.photo-modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  justify-content:center;
  align-items:center;
  z-index:999;
  flex-direction:column;
}
.photo-modal img{
  max-width:90vw;
  max-height:80vh;
  border-radius:1rem;
  box-shadow:0 12px 32px rgba(0,0,0,.5);
}
.photo-close{
  position:absolute;
  top:1rem;
  right:1rem;
  font-size:2rem;
  color:white;
  cursor:pointer;
}
.nav{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:2rem;
  color:white;
  background:rgba(0,0,0,0.3);
  border:none;
  border-radius:50%;
  width:50px;
  height:50px;
  cursor:pointer;
}
.nav.prev{ left:1rem; }
.nav.next{ right:1rem; }

/* ================= EFFECT LAYERS ================= */
.effect-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}
@keyframes fallPetals{
  0%{transform:translateY(0) rotate(0deg); opacity:1;}
  100%{transform:translateY(110vh) rotate(360deg); opacity:0;}
}
.petal{
  position:absolute;
  font-size:1.2rem;
  animation:fallPetals linear forwards;
  pointer-events:none;
}
</style>

</head>
<body>

<!-- ================= DASHBOARD ================= -->
<div class="card page" id="dashboard" style="display:block;">
<h1>Select a Year</h1>
<button class="logout-btn" onclick="logout()">Logout</button>
<div class="tiles">
  <div class="tile" onclick="window.location.href='2021.html'">2021</div>
  <div class="tile" onclick="window.location.href='2022.html'">2022</div>
  <div class="tile" onclick="window.location.href='2023.html'">2023</div>
  <div class="tile" onclick="window.location.href='2024.html'">2024</div>
  <div class="tile" onclick="window.location.href='2025.html'">2025</div>
  <div class="tile" onclick="window.location.href='2026.html'">2026</div>
  <div class="tile" onclick="window.location.href='2027.html'">2027</div>
</div>
</div>


<!-- ================= EFFECT LAYERS ================= -->
<div id="fireworks" class="effect-layer"></div>
<div id="snow" class="effect-layer"></div>
<div id="petals" class="effect-layer"></div>

<script src="auth.js"></script>

<script>

/* =====================================================
   GLOBAL VARIABLES
===================================================== */
const fireworks = document.getElementById("fireworks");
const snow = document.getElementById("snow");
const petals = document.getElementById("petals");

let fireworksInterval=null;
let snowInterval=null;
let petalInterval=null;


function hideAll(){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
  stopAllEffects();
  stopDriveVideos();   // â­ ADD THIS
}

function goHome(){
  hideAll();
  document.getElementById("dashboard").style.display="block";
  document.body.classList.remove("christmas-bg");
}

function logout(){
  sessionStorage.clear();
  localStorage.clear();
  window.location.replace("login.html");
}

/* =====================================================
   FLOWERS / PETALS ANIMATION
===================================================== */
function startPetals(){
  petals.style.display="block";
  petalInterval=setInterval(()=>{
    const p=document.createElement("div");
    p.className="petal";
    p.style.left=Math.random()*100+"vw";
    p.style.fontSize=(12+Math.random()*12)+"px";
    p.style.animationDuration=(4+Math.random()*3)+"s";
    p.textContent="ðŸŒ¸";
    petals.appendChild(p);
    setTimeout(()=>p.remove(),7000);
  },200);
}
function stopPetals(){ if(petalInterval){ clearInterval(petalInterval); petalInterval=null; } petals.innerHTML=""; }

/* =====================================================
   FIREWORKS ANIMATION
===================================================== */
function startFireworks(){
  fireworks.style.display="block";
  fireworksInterval=setInterval(()=>{
    const f=document.createElement("div");
    f.className="firework-particle";
    f.style.position="absolute";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*60+"vh";
    f.style.width="6px";
    f.style.height="6px";
    f.style.background=`hsl(${Math.random()*360},80%,65%)`;
    fireworks.appendChild(f);
    f.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(3)"}],{duration:1000});
    setTimeout(()=>f.remove(),1000);
  },300);
}
function stopFireworks(){ if(fireworksInterval){ clearInterval(fireworksInterval); fireworksInterval=null;} fireworks.innerHTML=""; }

/* =====================================================
   SNOW ANIMATION
===================================================== */
function startSnow(){
  snow.style.display="block";
  snowInterval=setInterval(()=>{
    const s=document.createElement("div");
    s.innerHTML="â„";
    s.style.position="absolute";
    s.style.left=Math.random()*100+"vw";
    s.style.animation="fallSnow 5s linear forwards";
    snow.appendChild(s);
    setTimeout(()=>s.remove(),5000);
  },150);
}
function stopSnow(){ if(snowInterval){ clearInterval(snowInterval); snowInterval=null;} snow.innerHTML=""; }

/* ================= KEYFRAMES ================= */
const styleSheet=document.createElement("style");
styleSheet.innerHTML=`@keyframes fallSnow{0%{transform:translateY(0);}100%{transform:translateY(110vh);}}`;
document.head.appendChild(styleSheet);

/* ================= INITIAL ANIMATIONS ================= */
startPetals();
startFireworks();
startSnow();

/* ================= RESPONSIVENESS ================= */
window.addEventListener("resize", ()=>{ 
  document.querySelectorAll(".tile").forEach(tile=>{
    tile.style.fontSize= `calc(0.9rem + 0.5vw)`; 
  });
});

</script>
</body>
</html>