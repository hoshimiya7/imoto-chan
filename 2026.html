<!-- ================= 2026 complete with christmas tile commented out, will work by uncommenting that 1 line 132 ================= -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>2026 Memories</title>

<link rel="stylesheet" href="styles.css">

<style>
/* ================= 2026 ONLY overrides ================= */

/* Birthday */
#cardPage .birthday-card-container{
  width: min(90vw, 420px);
  height: auto;                /* cancel fixed height */
  aspect-ratio: 5 / 7;   /* correct image ratio */
}

/* Christmas */
#christmasCardPage .birthday-card-container{
  width: min(70vw, 300px);
  height: auto;                /* cancel fixed height */
  aspect-ratio: 1429 / 2000;
}

/* ================= VIDEO RESIZE ================= */

#videoPage iframe{
  display:block;
  margin:auto;
  width:min(90vw,420px);
  aspect-ratio:5/7;
}

/* ================= Enter Code ================= */
.code-input{
  padding:12px;
  font-size:18px;
  border-radius:10px;
  border:none;
  text-align:center;
  width:200px;
}

.shake{
  animation: shake .3s;
}

@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-5px)}
  75%{transform:translateX(5px)}
}

/* Buttons */
.unlock-btn{
  margin-top:2rem;
  background:#10aeb9;
  color:white;
  padding:.6rem 1.2rem;
  border:none;
  border-radius:999px;
  cursor:pointer;
}

/* center whole lock content */
#lockPage{
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

/* groups input + buttons */
.lock-box{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
  margin-top:1rem;
}

/* input */
.code-input{
  padding:12px 16px;
  font-size:18px;
  border-radius:12px;
  border:none;
  text-align:center;
  width:220px;
}

/* buttons row perfectly centered */
.lock-buttons{
  display:flex;
  gap:12px;
  justify-content:center;
}

/* error */
.code-error{
  color:#ff4d6d;
  display:none;
  margin:0;
}

/* ================= MOBILE RESPONSIVENESS ================= */

/* Small screens general */
@media (max-width: 768px) {
  body {
    font-size: 14px;
  }

  h1 {
    font-size: 1.5rem;
  }

  .tiles {
    flex-direction: column;
    gap: 10px;
  }

  .tile {
    padding: 12px 8px;
    font-size: 1.2rem;
  }

  .back-btn, .logout-btn {
    font-size: 1rem;
    padding: 8px 12px;
  }
}

/* Mobile portrait */
@media (max-width: 768px) and (orientation: portrait) {
  #cardPage .birthday-card-container {
    width: 85vw;
  }
  #christmasCardPage .birthday-card-container {
    width: 75vw;
  }
}

/* Mobile landscape */
@media (max-width: 768px) and (orientation: landscape) {
  #cardPage .birthday-card-container {
    width: 60vw;
  }
  #christmasCardPage .birthday-card-container {
    width: 50vw;
  }

  .tiles {
    flex-direction: row;
    justify-content: space-around;
  }

  h1 {
    font-size: 1.3rem;
  }
}

/* Ensure photo modal fits mobile */
.photo-modal img#photoViewer {
  max-width: 95vw;
  max-height: 90vh;
  object-fit: contain;
}

/* ================= MOBILE RESPONSIVENESS ‚Äî 2024 CARD SCROLL ================= */

/* üì± Portrait */
@media (max-width:900px) and (orientation: portrait){

  /* Birthday + Christmas page layout */
  #cardPage, #christmasCardPage {
    display:flex;
    flex-direction: column;
    height: 100dvh; 
    overflow: hidden;
  }

  .card-header {
    flex: 0 0 auto;
    text-align: center;
    padding: 10px 0;
    z-index: 5;
  }

  .birthday-card-wrapper {
    flex: 1 1 auto;
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 20px;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    padding: 0 20px;
    box-sizing: border-box;
  }

  .birthday-card-wrapper::before,
  .birthday-card-wrapper::after {
    content: "";
    flex: 0 0 calc((100vw - 5px)/2);
  }

  .birthday-card-container {
    flex: 0 0 auto;
    width: 220px;
    height: 390px;
    scroll-snap-align: center;
  }
}

/* üì± Landscape */
@media (max-width:900px) and (orientation: landscape){
  #cardPage, #christmasCardPage {
    display:flex;
    flex-direction: column;
    height: 100dvh;
    overflow-y: auto; /* scroll vertically to prevent clipping */
    overflow-x: hidden;
    padding: env(safe-area-inset-top) 12px env(safe-area-inset-bottom);
    box-sizing: border-box;
  }

  .card-header {
    flex: 0 0 auto;
    padding: 6px 0;
    text-align: center;
  }

  .birthday-card-wrapper {
    flex: 1 1 auto;
    display: flex;
    align-items: flex-start; /* align top to prevent clipping */
    gap: 14px;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    padding: 10px 12px 10px 12px;
  }

  .birthday-card-wrapper::before,
  .birthday-card-wrapper::after {
    content: "";
    flex: 0 0 calc((100vw - 170px)/2);
  }

  .birthday-card-container {
    flex: 0 0 auto;
    width: 170px;
    aspect-ratio: 360/640;
    scroll-snap-align: center;
  }
}

/* ================= 2025 MOBILE CARD SIZE TWEAKS ================= */

/* Mobile portrait */
@media (max-width: 768px) and (orientation: portrait) {
  #cardPage .birthday-card-container {
    width: 60vw;  /* reduced from 85vw */
  }
  #christmasCardPage .birthday-card-container {
    width: 55vw;  /* reduced from 75vw */
  }
}

/* Mobile landscape */
@media (max-width: 768px) and (orientation: landscape) {
  #cardPage .birthday-card-container {
    width: 23vw;  /* reduced from 60vw */
  }
  #christmasCardPage .birthday-card-container {
    width: 25vw;  /* reduced from 50vw */
  }
}

/* Mobile portrait keeps previous size */
@media (max-width: 768px) and (orientation: portrait) {
  #videoPage iframe {
    width: 90vw;
    aspect-ratio: 5/7;
    height: auto;
  }
}

/* =========================================================
   üé• BIRTHDAY VIDEO PAGE ‚Äî MOBILE LANDSCAPE
========================================================= */
@media (max-width:900px) and (orientation: landscape) {

  .page#videoPage {
    display: flex;
    flex-direction: column;
    min-height: 0;
    padding: env(safe-area-inset-top) 12px env(safe-area-inset-bottom);
    box-sizing: border-box;
  }

  /* title/header fully visible */
  .page#videoPage h1 {
    flex: 0 0 auto;
    text-align: center;
    margin: 6px 0;
    padding-top: 60px; /* extra top padding for visibility */
  }

  /* video wrapper for portrait 9:16 videos in landscape */
  .page#videoPage .video-9x16 {
    flex: 1 1 auto;
    width: auto;
    height: auto;
    max-height: calc(
      100vh - 50px - 50px - env(safe-area-inset-top) - env(safe-area-inset-bottom)
    ); 
    /* 50px approx for title + 50px for back button */
    margin: 6px auto;
    overflow-y: auto;
  }

  /* back button always visible */
  .page#videoPage .back-btn {
    flex: 0 0 auto;
    margin: 6px auto 6px auto;
  }

  /* VIDEO WRAPPER FIX */
  .video-wrap {
    position: relative;
    width: min(90vw, 420px);
    max-height: 90vh;
    margin: auto;
    background: black; /* adds black bars if needed */
  }

  /* Use iframe to fill wrapper without overflowing */
  .video-wrap iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: auto;
    height: 100%;
    max-width: 100%;
    border-radius: 1rem;
  }

}



</style>

</head>

<body>

<!-- ================= AUDIO ================= -->
<audio id="birthdayAudio" src="Images/birthday.mp3" loop></audio>
<audio id="christmasAudio" src="Images/christmas.mp3" loop></audio>


<!-- ================= EFFECT LAYERS ================= -->
<div id="snow" class="effect-layer"></div>
<div id="heartConfetti" class="effect-layer"></div>


<!-- ================= HOME ================= -->
<div class="card page" id="home" style="display:block;">
  <h1>2026</h1>
  <p>Select an event:</p>
  <button class="logout-btn" onclick="logout()">Logout</button>

  <div class="tiles">
    <div class="tile" onclick="openBirthday()">üéÇ Birthday</div>
    <div class="tile" onclick="openChristmas()">üéÑ Christmas</div>
  </div>

  <button class="back-btn" onclick="goDashboard()">Back</button>
</div>



<!-- ================= BIRTHDAY ================= -->
<div class="card page" id="birthday">
  <h1>2026 Birthday üéÇ</h1>
  <p>Play the game to unlock your Birthday card and video</p>

  <div class="tiles">
    <div class="tile" onclick="window.location.href='game.html'">üéÆ Play Game</div>
    <div class="tile" onclick="openCard()">üíå Card</div>
    <div class="tile" onclick="openVideo()">üé• Video</div>
  </div>

  <button class="back-btn" onclick="goHome()">Back</button>
</div>

<!-- ================= ACCESS LOCK ================= -->
<div class="card page" id="lockPage">
  <h1>Enter Code üîê</h1>

  <div class="lock-box">
    <input 
      type="password"
      id="accessInput"
      placeholder="Enter code..."
      class="code-input"
    />

    <div class="lock-buttons">
      <button class="unlock-btn" onclick="checkCode()">Unlock</button>
      <button class="back-btn" onclick="openBirthday()">Back</button>
    </div>

    <p id="codeError" class="code-error">
      Wrong code ‚ùå
    </p>
  </div>
</div>

<!-- ================= CARD (FULL 2022 ANIMATION COPY) ================= -->
<!--<div class="card page" id="cardPage">
  <h1>Memory Card üíå</h1>

  <div class="birthday-card-container">

    <div class="card-inner2">
      <img src="Images/Birthday_2025_3.gif" class="card-photo">
    </div>

    <div class="card-flip c" id="cardFlip">

      <div class="card-front">
        <img src="Images/Birthday_2025_1.gif" class="card-photo">
      </div>

      <div class="card-inner1">
        <img src="Images/Birthday_2025_2.gif" class="card-photo">
      </div>

    </div>

  </div>

  <button class="back-btn" onclick="openBirthday()">Back</button>
</div>-->

<div class="card page" id="cardPage" style="display:none;">
  <!-- Stationary header for mobile scroll -->
  <div class="card-header">
    <h1>Memory Card üíå</h1>
    <button class="back-btn" onclick="openBirthday()">Back</button>
  </div>

  <!-- Scrollable wrapper -->
  <div class="birthday-card-wrapper">
    <div class="birthday-card-container">

      <div class="card-inner2">
        <img src="Images/Birthday_2025_3.gif" class="card-photo">
      </div>

      <div class="card-flip c" id="cardFlip">
        <div class="card-front">
          <img src="Images/Birthday_2025_1.gif" class="card-photo">
        </div>

        <div class="card-inner1">
          <img src="Images/Birthday_2025_2.gif" class="card-photo">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ================= VIDEO ================= -->
<!--<div class="card page" id="videoPage" style="display:none;">
  <h1>Memory Video üé•</h1>

  <iframe
    id="driveVideo"
    src="https://drive.google.com/file/d/1tnu1bR_GRkwVhU-D2tj-O7no0IKLgkgt/preview"
    frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
    allowfullscreen
    style="border-radius:1rem;">
  </iframe>

  <button class="back-btn" onclick="openBirthday()">Back</button>
</div>-->

<div class="card page" id="videoPage" style="display:none;">
  <h1>Memory Video üé•</h1>

  <div class="video-wrap video-9x16 birthday-video">
    <iframe
        id="driveVideo"
        src="https://drive.google.com/file/d/1tnu1bR_GRkwVhU-D2tj-O7no0IKLgkgt/preview"
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        allowfullscreen
        style="border-radius:1rem;">
    </iframe>
  </div>
  

  <button class="back-btn" onclick="openBirthday()">Back</button>
</div>


<!-- ================= CHRISTMAS ================= -->
<!--<div class="card page" id="christmasCardPage">
  <h1>2025 Christmas üéÑ</h1>

  <div class="birthday-card-container">
    <div class="card-inner2">
      <img src="Images/Christmas_2025_3.png" class="card-photo">
    </div>

    <div class="card-flip" id="christmasCardFlip">
      <div class="card-front">
        <img src="Images/Christmas_2025_1.png" class="card-photo">
      </div>

      <div class="card-inner1">
        <img src="Images/Christmas_2025_2.png" class="card-photo">
      </div>
    </div>
  </div>

  <button class="back-btn" onclick="goHome()">Back</button>
</div>-->

<div class="card page" id="christmasCardPage" style="display:none;">
  <!-- Stationary header -->
  <div class="card-header">
    <h1>Memory Card üíå</h1>
    <button class="back-btn" onclick="goHome()">Back</button>
  </div>

  <!-- Scrollable cards wrapper -->
  <div class="birthday-card-wrapper">
    <div class="birthday-card-container">

      <!-- Back inner layer -->
      <div class="card-inner2">
        <img src="Images/Christmas_2025_3.png" class="card-photo">
      </div>

      <!-- Flip card -->
      <div class="card-flip" id="christmasCardFlip">

        <!-- Front of card -->
        <div class="card-front">
          <img src="Images/Christmas_2025_1.png" class="card-photo">
        </div>

        <!-- Inner card layer -->
        <div class="card-inner1">
          <img src="Images/Christmas_2025_2.png" class="card-photo">
        </div>

      </div> <!-- end card-flip -->
    </div> <!-- end birthday-card-container -->
  </div> <!-- end birthday-card-wrapper -->
</div>

<!-- ================= PHOTO MODAL (same as 2022) ================= -->
<div class="photo-modal" id="photoModal">
  <span class="photo-close" onclick="closePhoto()">‚úï</span>
  <button class="nav prev" onclick="prevPhoto()">‚ùÆ</button>
  <img id="photoViewer">
  <button class="nav next" onclick="nextPhoto()">‚ùØ</button>
</div>

<!--<script src="auth.js"></script>-->

<script>

/* =====================================================
   GLOBAL
===================================================== */

const snow = document.getElementById("snow");
const hearts = document.getElementById("heartConfetti");

const bdayAudio = document.getElementById("birthdayAudio");
const xmasAudio = document.getElementById("christmasAudio");

let snowInterval = null;



/* =====================================================
   PAGE CONTROL
===================================================== */

function hideAll(){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
  stopEffects();
  stopDriveVideos();
}

function goHome(){
  hideAll();
  document.body.classList.remove("christmas-bg");
  document.getElementById("home").style.display="block";
}

function goDashboard(){
  window.location.href = "index.html";
}

function logout(){
  sessionStorage.clear();
  localStorage.clear();
  window.location.replace("login.html");
}

/* =====================================================
   OPEN SECTIONS
===================================================== */

function openBirthday(){
  hideAll();

  document.getElementById("birthday").style.display="block";

  bdayAudio.play();
  startHeartConfetti();
}

function openChristmas(){
  hideAll();

  document.body.classList.add("christmas-bg");
  document.getElementById("christmasCardPage").style.display="block";

  xmasAudio.play();
  startSnow();
  flipChristmasCard();
}

let targetPageAfterUnlock = null;

/* open card */
function openCard(){
  if(sessionStorage.getItem("birthdayUnlocked")){return realOpenCard();} // or realOpenVideo

  targetPageAfterUnlock = "card";
  showLock();
}

/* open video */
function openVideo(){
  if(sessionStorage.getItem("birthdayUnlocked")){return realOpenVideo();} // or realOpenVideo
  targetPageAfterUnlock = "video";
  showLock();
}


function realOpenCard(){
  hideAll();

  document.getElementById("cardPage").style.display="block";

  bdayAudio.play();
  startHeartConfetti();
  flipCard2023();
}

function realOpenVideo(){
  hideAll();

  document.getElementById("videoPage").style.display="block";

}



/* =====================================================
   STOP EVERYTHING WHEN LEAVING PAGE  ‚≠ê
===================================================== */

function stopEffects(){
  /* Heart Confetti */
  if(heartConfettiInterval){
    clearInterval(heartConfettiInterval);
    heartConfettiInterval = null;
  }
  hearts.innerHTML="";
  hearts.style.display="none";

  /* snow */
  if(snowInterval){
    clearInterval(snowInterval);
    snowInterval = null;
  }
  snow.innerHTML="";
  snow.style.display="none";

  /* audio */
  bdayAudio.pause();
  xmasAudio.pause();
  bdayAudio.currentTime=0;
  xmasAudio.currentTime=0;

  /* stop video */
  const iframe = document.getElementById("driveVideo");
  if(iframe) iframe.src = iframe.src;
}

/* =====================================================
   Heart Confetti
===================================================== */

let heartConfettiInterval = null;

function startHeartConfetti(){
  hearts.style.display = "block";

  heartConfettiInterval = setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";

    h.style.left = Math.random() * 100 + "vw";
    h.style.top = "-20px"; // start above viewport
    h.style.transform += ` scale(${0.8 + Math.random()*0.4}) rotate(${Math.random()*360}deg)`;
    h.style.backgroundColor = `hsl(${Math.random()*360}, 80%, 65%)`; // colorful hearts

    hearts.appendChild(h);

    // Animate falling with rotation
    h.animate([
      { transform: h.style.transform, opacity: 1 },
      { transform: `translateY(110vh) rotate(${Math.random()*720}deg)`, opacity: 0 }
    ], {
      duration: 5000 + Math.random()*2000,
      easing: "ease-in"
    });

    setTimeout(()=>h.remove(), 7000);
  }, 250); // new heart every 0.25s
}

/* =====================================================
   SNOW (same as your Christmas)
===================================================== */

function startSnow(){

  snow.style.display="block";

  snowInterval=setInterval(()=>{

    const s=document.createElement("div");
    s.innerHTML="‚ùÑ";
    s.style.position="absolute";
    s.style.left=Math.random()*100+"vw";
    s.style.animation="fallSnow 5s linear forwards";

    snow.appendChild(s);

    setTimeout(()=>s.remove(),5000);

  },150);
}



/* =====================================================
   RESPONSIVE CARD FLIP FUNCTIONS
===================================================== */

/* Birthday Card Flip */
function flipCard2023() {
  const container = document.getElementById("cardPage");
  const cardFlip = container.querySelector(".card-flip");
  const cardFront = container.querySelector(".card-front");
  const cardInner1 = container.querySelector(".card-inner1");
  const cardInner2 = container.querySelector(".card-inner2");

  // Reset
  cardFlip.style.transition = "none";
  cardFlip.style.transform = "rotateY(0deg)";
  [cardFront, cardInner1, cardInner2].forEach(c => {
    c.classList.remove("card-horizontal");
    c.style.transform = "";
  });

  // Flip animation
  setTimeout(() => {
    cardFlip.style.transition = "transform 0.8s ease-out";
    cardFlip.style.transform = "rotateY(-90deg)";
  }, 300);

  setTimeout(() => {
    cardFlip.style.transition = "transform 0.8s ease-in";
    cardFlip.style.transform = "rotateY(-180deg)";
  }, 1200);

  // Horizontal spread after flip
  setTimeout(() => {
    cardFlip.style.transition = "none";
    cardFlip.style.transform = "none";
    [cardFront, cardInner1, cardInner2].forEach(c => c.classList.add("card-horizontal"));

    //const spread = container.clientWidth * 0.45; // 40% of container width

    let spread;
    if(window.innerWidth <= 900){
      if(window.matchMedia("(orientation: landscape)").matches){
        spread = container.clientWidth * 0.28;
      }else{
        spread = container.clientWidth * 0.55;
      }
    }else{
      spread = container.clientWidth * 0.4; // desktop
    }

    cardFront.style.transform = `translateX(-${spread}px)`;
    cardInner1.style.transform = `translateX(0px)`;
    cardInner2.style.transform = `translateX(${spread}px)`;
  }, 2000);
}

/* ================= CHRISTMAS FUNCTIONS ================= */

/* ================= CHRISTMAS CARD FLIP ================= */
/* Christmas Card Flip */
function flipChristmasCard() {
  const container = document.getElementById("christmasCardPage");
  const cardFlip = container.querySelector(".card-flip");
  const cardFront = container.querySelector(".card-front");
  const cardInner1 = container.querySelector(".card-inner1");
  const cardInner2 = container.querySelector(".card-inner2");

  // Reset
  cardFlip.style.transition = "none";
  cardFlip.style.transform = "rotateY(0deg)";
  [cardFront, cardInner1, cardInner2].forEach(c => {
    c.classList.remove("card-horizontal");
    c.style.transform = "";
  });

  // Flip animation
  setTimeout(() => {
    cardFlip.style.transition = "transform 0.8s ease-out";
    cardFlip.style.transform = "rotateY(-90deg)";
  }, 300);

  setTimeout(() => {
    cardFlip.style.transition = "transform 0.8s ease-in";
    cardFlip.style.transform = "rotateY(-180deg)";
  }, 1200);

  // Horizontal spread after flip
  setTimeout(() => {
    cardFlip.style.transition = "none";
    cardFlip.style.transform = "none";
    [cardFront, cardInner1, cardInner2].forEach(c => c.classList.add("card-horizontal"));

    //const spread = container.clientWidth * 0.35; // 35% of container width for narrower Xmas card

    let spread;
    if(window.innerWidth <= 900){
      if(window.matchMedia("(orientation: landscape)").matches){
        spread = container.clientWidth * 0.28;
      }else{
        spread = container.clientWidth * 0.55;
      }
    }else{
      spread = container.clientWidth * 0.4; // desktop
    }

    cardFront.style.transform = `translateX(-${spread}px)`;
    cardInner1.style.transform = `translateX(0px)`;
    cardInner2.style.transform = `translateX(${spread}px)`;
  }, 2000);
}

function stopDriveVideos(){
  document.querySelectorAll("iframe").forEach(iframe=>{
    const src = iframe.src;
    iframe.src = "";
    iframe.src = src;
  });
}


/* =====================================================
   PHOTO VIEWER (shared like 2022)
===================================================== */

const photoModal = document.getElementById("photoModal");
const photoViewer = document.getElementById("photoViewer");

let photos = [];
let photoIndex = 0;

/* open from any card-photo automatically */
document.addEventListener("click", e => {

  const img = e.target.closest(".card-photo");
  if(!img) return;

  /* only trigger inside card pages */
  if(!img.closest("#cardPage, #christmasCardPage")) return;

  photos = Array.from(
    img.closest(".birthday-card-container").querySelectorAll(".card-photo")
  );

  photoIndex = photos.indexOf(img);

  showPhoto(photoIndex);
  photoModal.style.display = "flex";
});

function showPhoto(i){
  photoViewer.src = photos[i].src;
}

function closePhoto(){
  photoModal.style.display = "none";
}

function nextPhoto(){
  photoIndex = (photoIndex + 1) % photos.length;
  showPhoto(photoIndex);
}

function prevPhoto(){
  photoIndex = (photoIndex - 1 + photos.length) % photos.length;
  showPhoto(photoIndex);
}

/* swipe support */
let startX = 0;

photoModal.addEventListener("touchstart", e=>{
  startX = e.touches[0].clientX;
});

photoModal.addEventListener("touchend", e=>{
  const diff = e.changedTouches[0].clientX - startX;
  if(Math.abs(diff) < 40) return;
  diff < 0 ? nextPhoto() : prevPhoto();
});


/* =====================================================
   AUTO OPEN FROM OTHER PAGES (game back button)
===================================================== */

window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);

  if (params.get("birthday")) {
    openBirthday();
  }
});


/* =====================================================
   LOCK SYSTEM
===================================================== */

const ACCESS_CODE = "2026"; // <<< change your code here

function showLock(){
  hideAll();

  const page = document.getElementById("lockPage");
  page.style.display = "flex"; // set flex ONLY when opening

  document.getElementById("accessInput").value = "";
  document.getElementById("codeError").style.display = "none";
}


function checkCode(){
  const input = document.getElementById("accessInput");
  const error = document.getElementById("codeError");

  if(input.value === ACCESS_CODE){

    // optional: remember unlock for this session
    sessionStorage.setItem("birthdayUnlocked","true");

    if(targetPageAfterUnlock === "card"){
      realOpenCard();
    }
    else if(targetPageAfterUnlock === "video"){
      realOpenVideo();
    }

  }else{
    error.style.display = "block";
    input.classList.add("shake");
    setTimeout(()=>input.classList.remove("shake"),300);
  }
}

</script>
</body>
</html>
